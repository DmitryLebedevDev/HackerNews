(this.webpackJsonphasker=this.webpackJsonphasker||[]).push([[0],{15:function(e,t,n){e.exports={User:"UserPage_User__GwmQZ",Links:"UserPage_Links__232dH",blockOne:"UserPage_blockOne__3SRiZ",line:"UserPage_line__1tnSy",about:"UserPage_about__1hhdh",aboutWrap:"UserPage_aboutWrap__1JGDb",content:"UserPage_content__1eegN"}},197:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(27),c=n.n(o),s=(n(98),n(99),n(8)),u=n(12),i=n(2),m=n.n(i),l=n(11);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p="INIT",f={init:!1};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return(arguments.length>1?arguments[1]:void 0).type===p?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{init:!0}):e},b=n(29),y=n.n(b),I=n(7),h=function(e){return a.a.createElement("div",{className:y.a.Header},a.a.createElement("div",{className:y.a.Header__wrap},a.a.createElement("div",{className:y.a.Header__item},a.a.createElement("a",{href:"1"},"new")),a.a.createElement("div",{className:y.a.Header__item},a.a.createElement(I.b,{to:"/getById"},"getById")),a.a.createElement("div",{className:y.a.Header__item},a.a.createElement(I.b,{to:"/story"},"Top story")),a.a.createElement("div",{className:y.a.Header__item},a.a.createElement("a",{href:"1"},"ask")),a.a.createElement("div",{className:y.a.Header__item},a.a.createElement(I.b,{to:"/jobs"},"jobs"))))},v=n(23),O=n(17),j=n(6),E=n(84).create({baseURL:"https://hacker-news.firebaseio.com/v0/"}),k=function(e){return E.get("/item/".concat(e,".json")).then((function(e){return e.data}))},g=function(e){return E.get("/user/".concat(e,".json")).then((function(e){return e.data}))};function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t,n){for(var r=[],a=[],o=0;o<e.length;o++)r.push(k(e[o]).then((function(e){a.push(e)})));Promise.all(r).then((function(e){t(a)}))}))}function S(e){return new Promise((function(t,n){for(var r=[],a={story:[],comments:[]},o=0;o<e.length;o++)r.push(k(e[o]).then((function(e){"story"===e.type&&a.story.push({id:e.id,author:e.by,time:e.time,fullLenComments:e.descendants,comments:[],commentsId:e.kids,score:e.score,header:e.title,url:e.url,commentsIsLoad:!1}),"comment"===e.type&&(e.deleted||a.comments.push({id:e.id,name:e.by,text:e.text,commentsIdArr:e.kids}))})));Promise.all(r).then((function(e){t(a)}))}))}function w(e){var t,n=new Date(+new Date+60*(new Date).getTimezoneOffset()*1e3),r=(t=e,Date.prototype.getUnixTime=function(){return this.getTime()/1e3|0},Date.now||(Date.now=function(){return new Date}),Date.time=function(){return Date.now().getUnixTime()},(new Date).getUnixTime()-t);return new Date(1e3*(+n/1e3-+r))}function L(e){var t=w(e);return new Intl.DateTimeFormat("en-Us",{month:"long",day:"numeric",year:"numeric"}).format(t)}function x(e){var t=w(e),n=(new Date-t)/1e3;return n<60?"".concat(n," seconds ego"):n<3600?"".concat(Math.ceil(n/60)," menutes ego"):n<86400?"".concat(Math.ceil(n/3600)," hours ego"):n<2678400?"".concat(Math.ceil(n/604800)," weeks ego"):L(e)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];arguments.length>2&&void 0!==arguments[2]&&arguments[2];return void 0!==e&&e.length?new Promise((function(n,r){for(var a={},o=[],c=function(n){var r=k(e[n]).then((function(r){return new Promise((function(o,c){var s=[].concat(Object(j.a)(t),[e[n]]);r.deleted&&o(),C(r.kids,s).then((function(t){var c=0;if(t)for(var u in t)c+=+t[u].commentsLeng;r.deleted&&o(),a[e[n]]={id:e[n],name:r.by,text:r.text,comments:t,commentsLeng:void 0!==r.kids?r.kids.length+c:"",path:Object(j.a)(s)},o()}))}))}));o.push(r)},s=0;s<e.length;s++)c(s);Promise.all(o).then((function(e){n(a)}))})):new Promise((function(e,t){return e()}))}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D="ADD_TOP_STORY",N="ADD_COMMENT_TO_STORY",A="START_LOAD_STORY",B="STOP_LOAD_STORY",U="START_LOAD_STORY_COMMETNS",R="STOP_LOAD_STORY_COMMETNS",z="ADD_LEN_STORY",G="LEN_MAX_ON",Z=function(e){return{type:U,id:e}},Y=function(e){return{type:R,id:e}},H=function(e){return{type:D,storys:e}},Q=function(e,t){return{type:N,comments:t,idStory:e}},W=function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){var r,a,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:if((r=t.sent).kids){for(r.kids.sort((function(e,t){return e-t})),a=[],n(Z(e)),o=0;o<r.kids.length;o++)c=C([r.kids[o]],[e]).then((function(t){0!==Object.keys(t).length&&n(Q(e,t))})),a.push(c);Promise.all(a).then((function(){return n(Y(e))}))}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J={storys:[],lenStory:0,lenIsMax:!1,storysIsLoad:!1};var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return P({},e,{lenIsMax:!0});case z:return P({},e,{lenStory:t.length});case U:return P({},e,{storys:e.storys.map((function(e){return e.id!==t.id?e:P({},e,{commentsIsLoad:!0})}))});case R:return P({},e,{storys:e.storys.map((function(e){return e.id!==t.id?e:P({},e,{commentsIsLoad:!1})}))});case B:return P({},e,{storysIsLoad:!1});case A:return P({},e,{storysIsLoad:!0});case D:return P({},e,{storys:[].concat(Object(j.a)(e.storys),Object(j.a)(t.storys))});case N:var n=e.storys.map((function(e){return e.id!==t.idStory?e:P({},e,{comments:[].concat(Object(j.a)(e.comments),[P({},t.comments[Object.keys(t.comments)[0]])])})}));return P({},e,{storys:n});default:return e}},V=n(85),X=n.n(V);function F(){return a.a.createElement("div",{className:X.a.Load},a.a.createElement("img",{alt:"",src:"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4IiB2aWV3Qm94PSIwIDAgMjYuMzQ5IDI2LjM1IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNi4zNDkgMjYuMzU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8Zz4KCQk8Y2lyY2xlIGN4PSIxMy43OTIiIGN5PSIzLjA4MiIgcj0iMy4wODIiIGZpbGw9IiMwMDAwMDAiLz4KCQk8Y2lyY2xlIGN4PSIxMy43OTIiIGN5PSIyNC41MDEiIHI9IjEuODQ5IiBmaWxsPSIjMDAwMDAwIi8+CgkJPGNpcmNsZSBjeD0iNi4yMTkiIGN5PSI2LjIxOCIgcj0iMi43NzQiIGZpbGw9IiMwMDAwMDAiLz4KCQk8Y2lyY2xlIGN4PSIyMS4zNjUiIGN5PSIyMS4zNjMiIHI9IjEuNTQxIiBmaWxsPSIjMDAwMDAwIi8+CgkJPGNpcmNsZSBjeD0iMy4wODIiIGN5PSIxMy43OTIiIHI9IjIuNDY1IiBmaWxsPSIjMDAwMDAwIi8+CgkJPGNpcmNsZSBjeD0iMjQuNTAxIiBjeT0iMTMuNzkxIiByPSIxLjIzMiIgZmlsbD0iIzAwMDAwMCIvPgoJCTxwYXRoIGQ9Ik00LjY5NCwxOS44NGMtMC44NDMsMC44NDMtMC44NDMsMi4yMDcsMCwzLjA1YzAuODQyLDAuODQzLDIuMjA4LDAuODQzLDMuMDUsMGMwLjg0My0wLjg0MywwLjg0My0yLjIwNywwLTMuMDUgICAgQzYuOTAyLDE4Ljk5Niw1LjUzNywxOC45ODgsNC42OTQsMTkuODR6IiBmaWxsPSIjMDAwMDAwIi8+CgkJPGNpcmNsZSBjeD0iMjEuMzY0IiBjeT0iNi4yMTgiIHI9IjAuOTI0IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg=="}))}var q=n(21),$=n.n(q),ee=n(215),te=n(214),ne=n(40),re=n.n(ne),ae=n(210),oe=n(86),ce=n.n(oe);function se(){return a.a.createElement("div",{className:ce.a.Center},a.a.createElement(ae.a,{color:"secondary"}))}function ue(e){var t=Object(r.useState)(!1),n=Object(O.a)(t,2),o=n[0],c=n[1],s=[];if(o&&(e.comments&&Object.keys(e.comments).length>0))for(var u in e.comments)s.push(a.a.createElement(ue,{key:e.comments[u].id,id:e.comments[u].id,name:e.comments[u].name,text:e.comments[u].text,comments:e.comments[u].comments,commentsLeng:e.comments[u].commentsLeng,fullLenComments:e.comments[u].fullLenComments}));return a.a.createElement("div",{className:re.a.CommentBlock},a.a.createElement("h6",{className:re.a.CommentBlock__name},a.a.createElement(I.b,{to:"/user/".concat(e.name)},e.name)),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.text},className:re.a.CommentBlock__content}),e.isLoad?a.a.createElement(se,null):(e.commentsLeng||e.commetnsArr&&e.commetnsArr.length)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:re.a.Story__linkComments,onClick:function(){c((function(e){return!e})),e.funcBtn&&0===s.length&&e.funcBtn()}},a.a.createElement(te.a,{color:"primary"},"Comments ",e.commentsLeng)),s))}function ie(e){var t=Object(r.useState)(!!e.commentsDefOpen),n=Object(O.a)(t,2),o=n[0],c=n[1],s=Object(r.useState)(!1),u=Object(O.a)(s,2),i=u[0],m=u[1],l=[];for(var d in!i&&o&&0===Object.keys(e.comments).length&&e.addCommentToStoryThunk&&(e.addCommentToStoryThunk(e.id),m(!0)),e.comments)l.push(a.a.createElement(ue,{key:e.comments[d].id,name:e.comments[d].name,text:e.comments[d].text,comments:e.comments[d].comments,commentsLeng:e.comments[d].commentsLeng,fullLenComments:e.comments[d].fullLenComments}));return a.a.createElement("div",{className:$.a.Story},a.a.createElement("div",{className:$.a.Story__header},a.a.createElement(ee.a,{href:e.url,className:$.a.Story__link_header},e.header)),a.a.createElement("div",{className:$.a.Story__info},a.a.createElement("div",{className:$.a.Story__blockCenter},e.score," points by",a.a.createElement(I.b,{to:"/user/".concat(e.author),className:$.a.Story__linkToProfile},e.author)," ",x(e.time)," | hide",e.fullLenComments?a.a.createElement(I.b,{to:"/story/".concat(e.id),className:$.a.Story__linkComments,onClick:function(){c((function(e){return!e}))}},a.a.createElement(te.a,{color:"primary"},"comments ",e.fullLenComments)):""),o&&l,e.commentsIsLoad?a.a.createElement(se,null):""))}var me=Object(s.b)((function(e){return{story:e.storys.storys,storyIsLoad:e.storys.storysIsLoad}}),{addStoryThuck:function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:if("story"===r.type){t.next=7;break}return t.abrupt("return",!1);case 7:return n(H([{id:e,author:r.by,time:r.time,fullLenComments:r.descendants,comments:[],commentsId:r.kids,score:r.score,header:r.title,url:r.url,commentsIsLoad:!1}])),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addCommentToStoryThunk:W})(Object(v.g)((function(e){var t,n=Object(r.useState)(!1),a=Object(O.a)(n,2),o=a[0],c=a[1];if(!(t=e.story.find((function(t){return t.id===+e.match.params.storyId})))&&!e.storysIsLoad){if(o)return r.createElement(v.a,{to:"/error"});e.addStoryThuck(+e.match.params.storyId).then((function(e){return c(!0)}));return r.createElement(F,null)}return t?r.createElement("div",null,r.createElement(ie,Object.assign({},t,{addCommentToStoryThunk:e.addCommentToStoryThunk,commentsDefOpen:!0}))):r.createElement(F,null)})));function le(){return a.a.createElement("div",null,"ERROR")}var de=n(216);function pe(e){var t=e.addTopStoryThunk||e.funcAdd,n=e.storys.map((function(t){return a.a.createElement(ie,Object.assign({key:t.id,addCommentToStoryThunk:e.addCommentToStoryThunk},t))}));return a.a.createElement("div",{className:$.a.StotyList},n,e.storysIsLoad&&a.a.createElement(de.a,null),e.storysIsLoad||e.lenIsMax?"":a.a.createElement("div",{className:$.a.Story__blockCenter},a.a.createElement(te.a,{onClick:function(){return t()},variant:"contained",color:"secondary"}," add story ")))}var fe=Object(s.b)((function(e){return{storys:e.storys.storys,storysIsLoad:e.storys.storysIsLoad,lenIsMax:e.storys.lenIsMax}}),{addCommentToStoryThunk:W,addTopStoryThunk:function(){return function(){var e=Object(l.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(l.a)(m.a.mark((function e(r,a){var o,c,s,u,i,l,d,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/topstories.json").then((function(e){return e.data}));case 2:if(o=e.sent,c=[],s=[],!(u=n()).storys.lenIsMax){e.next=9;break}return r(),e.abrupt("return");case 9:for(i=u.storys.lenStory,(l=i+25)>=500&&t({type:G}),t({type:A}),d=function(e){c.push(k(o[e]).then((function(t){t&&s.push({id:o[e],author:t.by,time:t.time,fullLenComments:t.descendants,comments:[],commentsId:t.kids,score:t.score,header:t.title,url:t.url,commentsIsLoad:!1})})))},p=i;p<l;p++)d(p);Promise.all(c).then((function(e){t(H(s)),t({type:B}),t({type:z,length:l}),r()}));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){return Object(r.useEffect)((function(){e.storys.length<50&&e.addTopStoryThunk()}),[e.story]),a.a.createElement(pe,{addCommentToStoryThunk:e.addCommentToStoryThunk,storys:e.storys,storysIsLoad:e.storysIsLoad,addTopStoryThunk:e.addTopStoryThunk,lenIsMax:e.lenIsMax})}));function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye="ADD_USER",Ie="ADD_USER_STORY",he="ADD_USER_COMMETNS",ve="UP_COUT",Oe="START_LOAD",je="STOP_LOAD",Ee="MAX_ITEMS",ke="ADD_USER_COMMETNS_OPEN",ge=function(e){return{type:Ee,id:e}},Te=function(e){return{type:Oe,id:e}},Se=function(e){return{type:je,id:e}},we=function(e,t){return{type:ve,cout:t,id:e}},Le=function(e,t){return{type:Ie,id:e,storys:t}},xe=function(e,t){return{type:he,id:e,info:t}};function Ce(e,t){return Me.apply(this,arguments)}function Me(){return(Me=Object(l.a)(m.a.mark((function e(t,n){var r,a,o,c,s,u,i,l,d,p,f=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>2&&void 0!==f[2]?f[2]:25,a=f.length>3?f[3]:void 0,o=f.length>4?f[4]:void 0,a(Te(n)),c=o().users.users[n],s=c.cunt,u=[],i=[],l=!1;case 9:if(!(("story"===t?u.length:i.length)<r||l)){e.next=34;break}if(!c.submitted){e.next=30;break}if(!(s+(r-1)>c.submitted.length)){e.next=22;break}return c.submitted.length-1,l=!0,e.next=17,S(c.submitted.slice(s,s+(r-1)));case 17:return d=e.sent,u=[].concat(Object(j.a)(u),Object(j.a)(d.story)),i=[].concat(Object(j.a)(i),Object(j.a)(d.comments)),a(ge(n)),e.abrupt("break",34);case 22:return e.next=24,S(c.submitted.slice(s,s+(r-1)));case 24:p=e.sent,u=[].concat(Object(j.a)(u),Object(j.a)(p.story)),i=[].concat(Object(j.a)(i),Object(j.a)(p.comments)),s+=r,e.next=32;break;case 30:return l=!0,e.abrupt("return",[]);case 32:e.next=9;break;case 34:return a(Le(n,u)),a(xe(n,i)),a(we(n,s)),a(Se(n)),e.abrupt("return",u);case 39:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return function(){var n=Object(l.a)(m.a.mark((function n(r,a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Ce("story",e,t,r,a));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},De=function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:r=t.sent,n({type:ye,info:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ne={users:{}};var Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:for(var n=be({},e.users[t.id]),r={},a=0;a<t.info.length;a++)r=be({},r,{},t.info[a]),console.log(t.info,a,t.info[a],r,"1234");var o=n.comments.map((function(e){return e.id===t.idComments?be({},e,{comments:r}):e}));return n.comments=o,be({},e,{users:be({},e.users,Object(u.a)({},t.id,n))});case he:var c=e.users[t.id];return c?be({},e,{users:be({},e.users,Object(u.a)({},t.id,be({},c,{comments:[].concat(Object(j.a)(c.comments),Object(j.a)(t.info))})))}):e;case Ee:return be({},e,{users:be({},e.users,Object(u.a)({},t.id,be({},e.users[t.id],{maxItems:!0})))});case je:return be({},e,{users:be({},e.users,Object(u.a)({},t.id,be({},e.users[t.id],{isLoad:!1})))});case Oe:return be({},e,{users:be({},e.users,Object(u.a)({},t.id,be({},e.users[t.id],{isLoad:!0})))});case ve:return be({},e,{users:be({},e.users,Object(u.a)({},t.id,be({},e.users[t.id],{cunt:e.users[t.id].cunt+t.cout})))});case ye:return be({},e,{users:be({},e.users,Object(u.a)({},t.info.id,{id:t.info.id,created:t.info.created,karma:t.info.karma,about:t.info.about,submitted:t.info.submitted,story:[],comments:[],favorites:[],cunt:0,isLoad:!1,maxItems:!1}))});case Ie:var s=[],i=e.users[t.id];return s=i.story?[].concat(Object(j.a)(i.story),Object(j.a)(t.storys)):Object(j.a)(t.storys),be({},e,{users:be({},e.users,Object(u.a)({},t.id,be({},e.users[t.id],{story:s})))});default:return e}},Be=n(15),Ue=n.n(Be);function Re(e){var t=L(e.user.created);return a.a.createElement("div",{className:Ue.a.User},a.a.createElement("div",{className:Ue.a.line},a.a.createElement("div",{className:Ue.a.blockOne},"Name : "),e.user.id),a.a.createElement("div",{className:Ue.a.line},a.a.createElement("div",{className:Ue.a.blockOne},"Created : "),t),a.a.createElement("div",{className:Ue.a.line},a.a.createElement("div",{className:Ue.a.blockOne},"karma : "),e.user.karma),a.a.createElement("div",{className:Ue.a.line},a.a.createElement("div",{className:Ue.a.blockOne},"about : "),a.a.createElement("div",{className:Ue.a.aboutWrap},a.a.createElement("div",{className:Ue.a.about,dangerouslySetInnerHTML:{__html:e.user&&e.user.about?e.user.about:""}}),a.a.createElement("div",{className:Ue.a.Links},a.a.createElement(I.b,{to:"".concat(e.path,"/submission")},"submission"),a.a.createElement(I.b,{to:"".concat(e.path,"/comments")},"comments"),a.a.createElement(I.b,{to:"".concat(e.path,"/favorites")},"favorites")))))}var ze=Object(s.b)((function(e){return{users:e.users.users}}),{addUserThunk:De,addUserStoryThunk:Pe})(Object(v.g)((function(e){var t,n=Object(r.useState)(!1),o=Object(O.a)(n,2),c=o[0],s=o[1];return e.users[e.match.params.userId]?t=e.users[e.match.params.userId]:c||(e.addUserThunk(e.match.params.userId),s(!0)),t?a.a.createElement(Re,{user:t,path:e.match.url}):a.a.createElement("div",null,a.a.createElement(F,null))}))),Ge=Object(s.b)((function(e){return{users:e.users.users}}),{addUserThunk:De,addUserStoryThunk:Pe})(Object(v.g)((function(e){Object(r.useEffect)((function(){e.addUserThunk(e.match.params.userId).then((function(t){e.addUserStoryThunk(e.match.params.userId)}))}),[]);var t=e.users[e.match.params.userId];if(t){if(t.story&&t.story.length>=1)return a.a.createElement(pe,{storysIsLoad:t.isLoad,storys:t.story,funcAdd:function(){e.addUserStoryThunk(e.match.params.userId)},lenIsMax:t.maxItems});if(!t.story&&t.maxItems)return a.a.createElement("div",null,"no story")}return a.a.createElement("div",null,a.a.createElement(F,null))})));var Ze=a.a.memo(Object(s.b)((function(e){return{users:e.users.users}}),{addUserThunk:De,addUserCommentsThunk:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return function(){var n=Object(l.a)(m.a.mark((function n(r,a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("\u0437\u0430\u043f\u0443\u0441k",e),n.abrupt("return",Ce("comments",e,t,r,a));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},addUserComentsOpenThunk:function(e,t){return function(n,r){var a=[],o=[],c=r().users.users[e].comments.find((function(e){return e.id===t}));c&&c.commentsIdArr&&c.commentsIdArr.forEach((function(e){o.push(C([e]).then((function(e){a.push(e)})))})),Promise.all(o).then((function(r){n({type:ke,info:a,id:e,idComments:t})}))}}})(Object(v.g)(a.a.memo((function(e){Object(r.useEffect)((function(){e.addUserThunk(e.match.params.userId).then((function(t){console.log(e.match.params.userId,"\u044f \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0430\u0441\u044c"),e.addUserCommentsThunk(e.match.params.userId)}))}),[e.match.params.userId]);var t=e.users[e.match.params.userId];if(t&&t.comments.length>0){var n=t.comments.map((function(n){return a.a.createElement(ue,{key:n.id,id:n.id,name:n.name,text:n.text,commetnsArr:n.commentsIdArr,funcBtn:function(){console.log(t.id,"currentUser"),e.addUserComentsOpenThunk(t.id,n.id)},comments:n.comments})}));return a.a.createElement("div",{className:Ue.a.content},n)}return t&&t.maxItems?a.a.createElement("div",null,"no comments"):a.a.createElement("div",null,a.a.createElement(F,null))})))));function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe="ADD_JOBS",We="UP_INDEX",Je="SET_INDEX_ARR",Ke="START_LOAD",Ve="STOP_LOAD",Xe="MAX_LOAD_LIST",Fe=function(){return{type:Ve}},qe=function(e){return{type:We,upIndexNum:e}},$e=function(e){return{type:Qe,jobs:e}},et={jobs:[],loadJobsNum:0,jobsIndexArr:[],isLoad:!1,isMax:!1};var tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return He({},e,{isMax:!0});case Ve:return He({},e,{isLoad:!1});case Ke:return He({},e,{isLoad:!0});case Je:return He({},e,{jobsIndexArr:t.arr});case We:return He({},e,{loadJobsNum:e.loadJobsNum+t.upIndexNum});case Qe:return He({},e,{jobs:[].concat(Object(j.a)(e.jobs),Object(j.a)(t.jobs))});default:return e}},nt=n(212),rt=Object(nt.a)({linkToJob:{color:"blue",fontSize:15,transition:"0.2s","&:hover":{color:"rgb(0, 159, 233)"}},egoTime:{fontSize:13,color:"#828282"}});function at(e){var t=rt();return a.a.createElement("div",{style:{paddingLeft:"15px",paddingRight:"15px"}},a.a.createElement(ee.a,{className:t.linkToJob,href:e.url},e.title),a.a.createElement("div",{className:t.egoTime},x(e.time)))}var ot=n(88),ct=n.n(ot),st=Object(nt.a)({btn:{margin:"0 auto",marginTop:"10px",display:"block",fontWeight:900}});function ut(e){var t=st(),n=e.jobs.map((function(e){return a.a.createElement(at,Object.assign({key:e.id},e))}));return a.a.createElement("div",{className:ct.a.List},n,e.isLoad||e.isMax?e.isMax?"":a.a.createElement(se,null):a.a.createElement(te.a,{onClick:e.addFunBtn,className:t.btn,variant:"contained",color:"secondary"},"add jobs"))}var it=Object(s.b)((function(e){return{jobs:e.jobs.jobs,isLoad:e.jobs.isLoad,isMax:e.jobs.isMax}}),{addJobsThunk:function(){return function(){var e=Object(l.a)(m.a.mark((function e(t,n){var r,a,o,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),(a=r.jobs.jobsIndexArr).length){e.next=7;break}return e.next=5,E.get("/jobstories.json").then((function(e){return e.data}));case 5:a=e.sent,t({type:Je,arr:a});case 7:if(!((o=r.jobs.loadJobsNum)>=a.length)){e.next=10;break}return e.abrupt("return");case 10:if(t({type:Ke}),!(o+25>a.length&&o<a.length)){e.next=21;break}return e.next=15,T(a.slice(o,a.length));case 15:return c=e.sent,t($e(c)),t(qe(c.length)),t({type:Xe}),t(Fe()),e.abrupt("return");case 21:return e.next=23,T(a.slice(o,o+25));case 23:s=e.sent,t($e(s)),t(qe(s.length)),t(Fe());case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){return Object(r.useEffect)((function(){e.jobs.length||e.addJobsThunk()}),[e.jobs.length]),e.jobs.length?a.a.createElement("div",null,a.a.createElement(ut,{jobs:e.jobs,addFunBtn:e.addJobsThunk,isLoad:e.isLoad,isMax:e.isMax})):a.a.createElement(de.a,{value:100})}));function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dt="SET_ITEM",pt="START_LOAD",ft="STOP_LOAD",_t="START_TIMER",bt="STOP_TIMER",yt="SET_MAX_ITEM",It="REQUERS_IN_ITEM_START",ht="REQUERS_IN_ITEM_STOP",vt="SET_COMMENT_IN_ITEM",Ot="RESET_ITEM",jt="STOP_CHECK_MAX_ITEM",Et=function(e){return{type:dt,item:e}},kt=function(){return function(){var e=Object(l.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/maxitem.json").then((function(e){return e.data}));case 2:n=e.sent,t({type:yt,index:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},gt={isLoad:!1,isLoadInItem:!1};var Tt=n(51),St=n.n(Tt),wt=n(52),Lt=n.n(wt);function xt(e){var t=Object(r.useState)(e.number),n=Object(O.a)(t,2),o=n[0],c=n[1];return Object(r.useEffect)((function(){c((function(t){return e.number,e.number}))}),[e.number]),a.a.createElement("div",{className:Lt.a.window},a.a.createElement("div",{className:Lt.a.col+" "+Lt.a["top".concat(o)]},a.a.createElement("span",null,"0"),a.a.createElement("span",null,"1"),a.a.createElement("span",null,"2"),a.a.createElement("span",null,"3"),a.a.createElement("span",null,"4"),a.a.createElement("span",null,"5"),a.a.createElement("span",null,"6"),a.a.createElement("span",null,"7"),a.a.createElement("span",null,"8"),a.a.createElement("span",null,"9")))}function Ct(e){var t=(""+e.number).match(/\w/g),n=[];if(t&&t.length)for(var r=0;r<t.length;r++)n.push(a.a.createElement(xt,{number:t[r],key:r}));return a.a.createElement("div",{style:{display:"flex"}},n)}function Mt(e){var t=Object(r.useState)(""),n=Object(O.a)(t,2),o=n[0],c=n[1],s=Object(r.useState)(!1),u=Object(O.a)(s,2),i=u[0],m=u[1],l=a.a.useRef();return a.a.createElement("div",null,a.a.createElement("input",{ref:l,type:"text",value:o,onChange:function(t){+t.target.value<=e.maxItem?(c(t.target.value),i&&m(!1)):m(!0),+t.target.value&&+t.target.value<=e.maxItem&&(console.log(l.current.value,"REf"),e.setItemThunkStart(+t.target.value).then((function(t){console.log(t,l.current.value),t.id===+l.current.value&&e.setItemThunkEnd(t)}))),+l.current.value||e.resetItem()}}),i&&a.a.createElement("div",{style:{color:"red"}},"max items is ",e.maxItem))}function Pt(e){var t,n=e.item;return n&&"story"===n.type&&(t=a.a.createElement(ie,{id:n.id,url:n.url,fullLenComments:n.fullLenComments,header:n.header,author:n.author,score:n.score,time:n.time,comments:[],commentsIsLoad:!1,addCommentToStoryThunk:function(){},commentsId:[]})),n&&"comment"===n.type&&(t=a.a.createElement(ue,{id:n.id,name:n.name,text:n.text,commetnsArr:n.kids,comments:n.comments,isLoad:e.isLoadInItem,funcBtn:function(){e.setCommentInItemThunk(n?n.id:-1)}})),a.a.createElement("div",null,t)}var Dt=Object(s.b)((function(e){return{item:e.getByItem.item,isLoad:e.getByItem.isLoad,maxItem:e.getByItem.maxItem,isLoadInItem:e.getByItem.isLoadInItem}}),{setItemThunkStart:function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:pt}),t.next=3,k(e);case 3:return"comment"===(r=t.sent).type&&(r.name=r.by,r.isLoad=!1,delete r.by),"story"===r.type&&(r={id:r.id,url:r.url,fullLenComments:r.descendants,header:r.title,author:r.by,score:r.score,time:r.time,comments:[],type:"story"}),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setItemThunkEnd:function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Et(e)),n({type:ft});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},startCheckMaxItem:function(){return function(e){var t;e((t=setInterval((function(){e(kt())}),1e3),{type:_t,timer:t}))}},CheckMaxItemThunk:kt,stopTimer:function(){return{type:bt}},setCommentInItemThunk:function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:It}),t.next=3,C([e]);case 3:r=(r=t.sent)[e].comments,n({type:vt,comment:r}),n({type:ht});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},resetItem:function(){return{type:Ot}}})((function(e){return Object(r.useEffect)((function(){return e.CheckMaxItemThunk(),e.startCheckMaxItem(),function(){e.stopTimer()}}),[]),e.maxItem?a.a.createElement("div",{className:St.a.centerBlock},a.a.createElement("div",{className:St.a.center},a.a.createElement("div",{style:{textAlign:"center"}},"max id ",a.a.createElement(Ct,{number:e.maxItem})),a.a.createElement(Mt,{maxItem:e.maxItem,setItemThunkStart:e.setItemThunkStart,setItemThunkEnd:e.setItemThunkEnd,resetItem:e.resetItem}),a.a.createElement("div",{className:St.a.content},e.isLoad?a.a.createElement(se,null):a.a.createElement(Pt,{item:e.item,isLoadInItem:e.isLoadInItem,setCommentInItemThunk:e.setCommentInItemThunk})))):a.a.createElement(se,null)}));var Nt=Object(s.b)((function(e){return{story:e.storys.storys,storysIsLoad:e.storys.storysIsLoad}}))((function(e){return a.a.createElement("div",null,a.a.createElement(v.d,null,a.a.createElement(v.b,{path:"/getById",render:function(){return a.a.createElement(Dt,null)}}),a.a.createElement(v.b,{path:"/getById/:id",render:function(){return a.a.createElement(Dt,null)}}),a.a.createElement(v.b,{path:"/story/:storyId",render:function(){return a.a.createElement(me,null)}}),a.a.createElement(v.b,{path:"/story",render:function(){return a.a.createElement(fe,null)}}),a.a.createElement(v.b,{path:"/user/:userId/submission",render:function(){return a.a.createElement(Ge,null)}}),a.a.createElement(v.b,{path:"/user/:userId/comments",render:function(){return a.a.createElement(Ze,null)}}),a.a.createElement(v.b,{path:"/user/:userId/favorites",render:function(){return a.a.createElement("div",null,"favorites")}}),a.a.createElement(v.b,{path:"/user/:userId",render:function(){return a.a.createElement(ze,null)}}),a.a.createElement(v.b,{path:"/jobs",render:function(){return a.a.createElement(it,null)}}),a.a.createElement(v.b,{path:"/error",render:function(){return a.a.createElement(le,null)}})))})),At=n(31),Bt=n(89),Ut=n(213),Rt=Object(At.c)({form:Ut.a,storys:K,init:_,users:Ae,jobs:tt,getByItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt:return lt({},e);case vt:var n;return e.item&&"comment"===e.item.type&&((n=lt({},e.item)).comments=t.comment),lt({},e,{item:n});case ht:return lt({},e,{isLoadInItem:!1});case It:return lt({},e,{isLoadInItem:!0});case yt:return e.maxItem===t.index?e:lt({},e,{maxItem:t.index});case bt:return e.timer&&clearInterval(e.timer),lt({},e,{timer:null});case _t:return lt({},e,{timer:t.timer});case pt:return lt({},e,{isLoad:!0});case ft:return lt({},e,{isLoad:!1});case dt:return lt({},e,{item:t.item});case Ot:return lt({},e,{item:void 0,isLoad:!1});default:return e}}}),zt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||At.d,Gt=Object(At.e)(Rt,zt(Object(At.a)(Bt.a)));window.state=Gt;var Zt=Gt,Yt=Object(s.b)((function(e){return{isInit:e.init.init}}),{initThunk:function(){return function(){var e=Object(l.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:p});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Object(r.useEffect)((function(){e.isInit||e.initThunk()}),[e.isInit]),e.isInit?a.a.createElement("div",null,a.a.createElement(h,null),a.a.createElement(Nt,null)):a.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0435\u0431\u0430\u043d\u0430\u044f")})),Ht=function(){return a.a.createElement(I.a,{basename:"/HackerNews"},a.a.createElement(s.a,{store:Zt},a.a.createElement(Yt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(Ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},21:function(e,t,n){e.exports={Story__linkComments:"StorysList_Story__linkComments__2fVSg",CommentBlock__content:"StorysList_CommentBlock__content__3gL9t",CommentBlock:"StorysList_CommentBlock__2IGN0",CommentBlock__name:"StorysList_CommentBlock__name__2Sx9u",Story:"StorysList_Story__AS8bO",Story__header:"StorysList_Story__header__1hvoS",Story__blockCenter:"StorysList_Story__blockCenter__1p_4l",Story__link_header:"StorysList_Story__link_header__3gT92",Story__linkToProfile:"StorysList_Story__linkToProfile__1bu2_"}},29:function(e,t,n){e.exports={Header:"header_Header__17LQY",Header__item:"header_Header__item__1ZjVz",Header__wrap:"header_Header__wrap__1Gpp_"}},40:function(e,t,n){e.exports={Story__linkComments:"CommentsBlock_Story__linkComments__17op8",CommentBlock__content:"CommentsBlock_CommentBlock__content__36Lsu",CommentBlock:"CommentsBlock_CommentBlock__2veLe",CommentBlock__name:"CommentsBlock_CommentBlock__name__3-cQc",Story:"CommentsBlock_Story__2jwbx",Story__header:"CommentsBlock_Story__header__12S73",Story__blockCenter:"CommentsBlock_Story__blockCenter__23_bP",Story__link_header:"CommentsBlock_Story__link_header__2qslK",Story__linkToProfile:"CommentsBlock_Story__linkToProfile__3Swji"}},51:function(e,t,n){e.exports={center:"GetByIdPage_center__1Lyq5",centerBlock:"GetByIdPage_centerBlock__3rpkt"}},52:function(e,t,n){e.exports={col:"TableItem_col__17w9d",col2:"TableItem_col2__3xfQ3",top0:"TableItem_top0__py-lo",top1:"TableItem_top1__3pDee",top2:"TableItem_top2__1izgJ",top3:"TableItem_top3__23pnF",top4:"TableItem_top4__2RBg_",top5:"TableItem_top5__3nHlr",top6:"TableItem_top6__17W0Y",top7:"TableItem_top7__mUkI0",top8:"TableItem_top8__39V2R",top9:"TableItem_top9__UY3Rv",topUp0:"TableItem_topUp0__1B6rH",up0:"TableItem_up0__3LxJt",topUp1:"TableItem_topUp1__5RxuJ",up1:"TableItem_up1__2K3Uc",topUp2:"TableItem_topUp2__31Icf",up2:"TableItem_up2__1Gqyq",topUp3:"TableItem_topUp3__36eQh",up3:"TableItem_up3__PyVe4",topUp4:"TableItem_topUp4__3iw_P",up4:"TableItem_up4__1_8L2",topUp5:"TableItem_topUp5__39oEF",up5:"TableItem_up5__1Uckj",topUp6:"TableItem_topUp6__s5IMq",up6:"TableItem_up6__2jWI3",topUp7:"TableItem_topUp7__1E22k",up7:"TableItem_up7__15-x-",topUp8:"TableItem_topUp8__HdHYT",up8:"TableItem_up8__33GwG",topUp9:"TableItem_topUp9__3eN2-",up9:"TableItem_up9__3Iome",window:"TableItem_window__3mi7D"}},85:function(e,t,n){e.exports={Load:"load_Load__1esxs","load-anim":"load_load-anim__EKPbX"}},86:function(e,t,n){e.exports={Center:"minLoadCenter_Center__1iLq_"}},88:function(e,t,n){e.exports={List:"Jobs_List__31Qw5"}},93:function(e,t,n){e.exports=n(197)},98:function(e,t,n){},99:function(e,t,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.9bb9f943.chunk.js.map