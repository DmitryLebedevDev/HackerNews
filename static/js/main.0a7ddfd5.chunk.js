(this.webpackJsonphasker=this.webpackJsonphasker||[]).push([[0],{14:function(e,t,n){e.exports={User:"UserPage_User__GwmQZ",userSmol:"UserPage_userSmol__1NQfp",link:"UserPage_link__1qPbt",Links:"UserPage_Links__232dH",blockOne:"UserPage_blockOne__3SRiZ",line:"UserPage_line__1tnSy",about:"UserPage_about__1hhdh",aboutWrap:"UserPage_aboutWrap__1JGDb",content:"UserPage_content__1eegN"}},19:function(e,t,n){e.exports={Story__linkComments:"StorysList_Story__linkComments__2fVSg",CommentBlock__content:"StorysList_CommentBlock__content__3gL9t",CommentBlock:"StorysList_CommentBlock__2IGN0",CommentBlock__name:"StorysList_CommentBlock__name__2Sx9u",Story:"StorysList_Story__AS8bO",Story__header:"StorysList_Story__header__1hvoS",Story__blockCenter:"StorysList_Story__blockCenter__1p_4l",Story__link_header:"StorysList_Story__link_header__3gT92",Story__linkToProfile:"StorysList_Story__linkToProfile__1bu2_"}},197:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(26),c=n.n(o),s=(n(98),n(99),n(10)),u=n(12),i=n(2),m=n.n(i),l=n(8),d="INIT";function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f={init:!1};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return(arguments.length>1?arguments[1]:void 0).type===d?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{init:!0}):e},b=n(28),_=n.n(b),h=n(11),I=n(222),v=function(){return a.a.createElement(I.a,{position:"static"},a.a.createElement("div",{className:_.a.Header},a.a.createElement("div",{className:_.a.Header__wrap},a.a.createElement("div",{className:_.a.Header__item},a.a.createElement(h.b,{to:"/story"},"Top stories")),a.a.createElement("div",{className:_.a.Header__item},a.a.createElement(h.b,{to:"/newStorys"},"new stories")),a.a.createElement("div",{className:_.a.Header__item},a.a.createElement(h.b,{to:"/getById"},"getById")),a.a.createElement("div",{className:_.a.Header__item},a.a.createElement(h.b,{to:"/ask"},"ask")),a.a.createElement("div",{className:_.a.Header__item},a.a.createElement(h.b,{to:"/jobs"},"jobs")))))},O=n(21),j=n(15),E=n(5),g="ADD_TOP_STORY",k="ADD_COMMENT_TO_STORY",T="START_LOAD_STORY",S="STOP_LOAD_STORY",w="START_LOAD_STORY_COMMETNS",x="STOP_LOAD_STORY_COMMETNS",L="ADD_LEN_STORY",C="LEN_MAX_ON",P=n(84).create({baseURL:"https://hacker-news.firebaseio.com/v0"}),M=function(){return P.get("/maxitem.json").then((function(e){return e.data}))},D=function(e){return P.get("/item/".concat(e,".json")).then((function(e){return e.data}))},N=function(e){return P.get("/user/".concat(e,".json")).then((function(e){return e.data}))};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t,n){for(var r=[],a=[],o=0;o<e.length;o++)r.push(D(e[o]).then((function(e){a.push(e)})));Promise.all(r).then((function(e){t(a)}))}))}function B(e,t){return U.apply(this,arguments)}function U(){return(U=Object(l.a)(m.a.mark((function e(t,n){var r,a,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[];case 1:if(!(r.length<n)){e.next=13;break}if(0!==t){e.next=4;break}return e.abrupt("break",13);case 4:for(a=[],o=0;o<n&&n-o>=1;o++)a.push(t-o);return t-=n,e.next=9,R(a);case 9:(c=e.sent)&&c.story&&r.push.apply(r,Object(E.a)(c.story)),e.next=1;break;case 13:return e.abrupt("return",{story:r,index:t});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return new Promise((function(t,n){for(var r=[],a={story:[],comments:[]},o=0;o<e.length;o++)r.push(D(e[o]).then((function(e){e&&"story"===e.type&&void 0!==e.url&&a.story.push({id:e.id,author:e.by,time:e.time,fullLenComments:e.descendants,comments:[],commentsId:e.kids,score:e.score,header:e.title,url:e.url,commentsIsLoad:!1}),e&&"comment"===e.type&&(e.deleted||a.comments.push({id:e.id,name:e.by,text:e.text,commentsIdArr:e.kids}))})));Promise.all(r).then((function(e){t(a)}))}))}function z(e){var t,n=new Date(+new Date+60*(new Date).getTimezoneOffset()*1e3),r=(t=e,Date.prototype.getUnixTime=function(){return this.getTime()/1e3|0},Date.now||(Date.now=function(){return new Date}),Date.time=function(){return Date.now().getUnixTime()},(new Date).getUnixTime()-t);return new Date(1e3*(+n/1e3-+r))}function G(e){var t=z(e);return new Intl.DateTimeFormat("en-Us",{month:"long",day:"numeric",year:"numeric"}).format(t)}function Z(e){var t=z(e),n=(new Date-t)/1e3;return n<60?"".concat(n," seconds ego"):n<3600?"".concat(Math.ceil(n/60)," menutes ego"):n<86400?"".concat(Math.ceil(n/3600)," hours ego"):n<2678400?"".concat(Math.ceil(n/604800)," weeks ego"):G(e)}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];arguments.length>2&&void 0!==arguments[2]&&arguments[2];return void 0!==e&&e.length?new Promise((function(n,r){for(var a={},o=[],c=function(n){var r=D(e[n]).then((function(r){return new Promise((function(o,c){var s=[].concat(Object(E.a)(t),[e[n]]);r.deleted&&o(),Y(r.kids,s).then((function(t){var c=0;if(t)for(var u in t)c+=+t[u].commentsLeng;r.deleted&&o(),a[e[n]]={id:e[n],name:r.by,text:r.text,comments:t,commentsLeng:void 0!==r.kids?r.kids.length+c:"",path:Object(E.a)(s)},o()}))}))}));o.push(r)},s=0;s<e.length;s++)c(s);Promise.all(o).then((function(e){n(a)}))})):new Promise((function(e,t){return e()}))}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){return{type:w,id:e}},K=function(e){return{type:x,id:e}},W=function(e){return{type:g,storys:e}},X=function(e,t){return{type:k,comments:t,idStory:e}},V=function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){var r,a,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:if((r=t.sent).kids){for(r.kids.sort((function(e,t){return e-t})),a=[],n(J(e)),o=0;o<r.kids.length;o++)c=Y([r.kids[o]],[e]).then((function(t){0!==Object.keys(t).length&&n(X(e,t))})),a.push(c);Promise.all(a).then((function(){return n(K(e))}))}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F={storys:[],lenStory:0,lenIsMax:!1,storysIsLoad:!1};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Q({},e,{lenIsMax:!0});case L:return Q({},e,{lenStory:t.lenght});case w:return Q({},e,{storys:e.storys.map((function(e){return e.id!==t.id?e:Q({},e,{commentsIsLoad:!0})}))});case x:return Q({},e,{storys:e.storys.map((function(e){return e.id!==t.id?e:Q({},e,{commentsIsLoad:!1})}))});case S:return Q({},e,{storysIsLoad:!1});case T:return Q({},e,{storysIsLoad:!0});case g:return Q({},e,{storys:[].concat(Object(E.a)(e.storys),Object(E.a)(t.storys))});case k:var n=e.storys.map((function(e){return e.id!==t.idStory?e:Q({},e,{comments:[].concat(Object(E.a)(e.comments),[Q({},t.comments[Object.keys(t.comments)[0]])])})}));return Q({},e,{storys:n});default:return e}},$=n(85),ee=n.n($);function te(){return a.a.createElement("div",{className:ee.a.Load},a.a.createElement("img",{alt:"",src:"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4IiB2aWV3Qm94PSIwIDAgMjYuMzQ5IDI2LjM1IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNi4zNDkgMjYuMzU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8Zz4KCQk8Y2lyY2xlIGN4PSIxMy43OTIiIGN5PSIzLjA4MiIgcj0iMy4wODIiIGZpbGw9IiMwMDAwMDAiLz4KCQk8Y2lyY2xlIGN4PSIxMy43OTIiIGN5PSIyNC41MDEiIHI9IjEuODQ5IiBmaWxsPSIjMDAwMDAwIi8+CgkJPGNpcmNsZSBjeD0iNi4yMTkiIGN5PSI2LjIxOCIgcj0iMi43NzQiIGZpbGw9IiMwMDAwMDAiLz4KCQk8Y2lyY2xlIGN4PSIyMS4zNjUiIGN5PSIyMS4zNjMiIHI9IjEuNTQxIiBmaWxsPSIjMDAwMDAwIi8+CgkJPGNpcmNsZSBjeD0iMy4wODIiIGN5PSIxMy43OTIiIHI9IjIuNDY1IiBmaWxsPSIjMDAwMDAwIi8+CgkJPGNpcmNsZSBjeD0iMjQuNTAxIiBjeT0iMTMuNzkxIiByPSIxLjIzMiIgZmlsbD0iIzAwMDAwMCIvPgoJCTxwYXRoIGQ9Ik00LjY5NCwxOS44NGMtMC44NDMsMC44NDMtMC44NDMsMi4yMDcsMCwzLjA1YzAuODQyLDAuODQzLDIuMjA4LDAuODQzLDMuMDUsMGMwLjg0My0wLjg0MywwLjg0My0yLjIwNywwLTMuMDUgICAgQzYuOTAyLDE4Ljk5Niw1LjUzNywxOC45ODgsNC42OTQsMTkuODR6IiBmaWxsPSIjMDAwMDAwIi8+CgkJPGNpcmNsZSBjeD0iMjEuMzY0IiBjeT0iNi4yMTgiIHI9IjAuOTI0IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg=="}))}var ne=n(19),re=n.n(ne),ae=n(217),oe=n(216),ce=n(38),se=n.n(ce),ue=n(215),ie=n(86),me=n.n(ie);function le(){return a.a.createElement("div",{className:me.a.Center},a.a.createElement(ue.a,{color:"secondary"}))}function de(e){var t=Object(r.useState)(!1),n=Object(j.a)(t,2),o=n[0],c=n[1],s=[];if(o&&(e.comments&&Object.keys(e.comments).length>0))for(var u in e.comments)s.push(a.a.createElement(de,{key:e.comments[u].id,id:e.comments[u].id,name:e.comments[u].name,text:e.comments[u].text,comments:e.comments[u].comments,commentsLeng:e.comments[u].commentsLeng,fullLenComments:e.comments[u].fullLenComments}));return a.a.createElement("div",{className:se.a.CommentBlock},a.a.createElement("h6",{className:se.a.CommentBlock__name},a.a.createElement(h.b,{to:"/user/".concat(e.name)},e.name)),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.text},className:se.a.CommentBlock__content}),e.isLoad?a.a.createElement(le,null):(e.commentsLeng||e.commetnsArr&&e.commetnsArr.length)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:se.a.Story__linkComments,onClick:function(){c((function(e){return!e})),e.funcBtn&&0===s.length&&e.funcBtn()}},a.a.createElement(oe.a,{color:"primary"},"Comments ",e.commentsLeng)),s))}function pe(e){var t=!e.isLink,n=Object(r.useState)(!!e.commentsDefOpen),o=Object(j.a)(n,2),c=o[0],s=o[1],u=Object(r.useState)(!1),i=Object(j.a)(u,2),m=i[0],l=i[1],d=[];for(var p in!m&&c&&0===Object.keys(e.comments).length&&e.addCommentToStoryThunk&&(e.addCommentToStoryThunk(e.id),l(!0)),e.comments)d.push(a.a.createElement(de,{key:e.comments[p].id,name:e.comments[p].name,text:e.comments[p].text,comments:e.comments[p].comments,commentsLeng:e.comments[p].commentsLeng,fullLenComments:e.comments[p].fullLenComments}));return a.a.createElement("div",{className:re.a.Story},a.a.createElement("div",{className:re.a.Story__header},a.a.createElement(ae.a,{href:e.url&&e.url,className:re.a.Story__link_header},e.header)),a.a.createElement("div",{className:re.a.Story__info},a.a.createElement("div",{className:re.a.Story__blockCenter},e.score," points by",a.a.createElement(h.b,{to:"/user/".concat(e.author),className:re.a.Story__linkToProfile},e.author)," ",Z(e.time),e.fullLenComments?t?a.a.createElement(h.b,{to:"/story/".concat(e.id),className:re.a.Story__linkComments,onClick:function(){s((function(e){return!e}))}},a.a.createElement(oe.a,{color:"primary"},"comments ",e.fullLenComments)):a.a.createElement(oe.a,{className:re.a.Story__linkComments,color:"primary",onClick:function(){s((function(e){return!e}))}},"comments ",e.fullLenComments):""),c&&d,e.commentsIsLoad?a.a.createElement(le,null):""))}var fe=Object(s.b)((function(e){return{story:e.storys.storys,storyIsLoad:e.storys.storysIsLoad}}),{addStoryThuck:function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:if("story"===r.type){t.next=7;break}return t.abrupt("return",!1);case 7:return n(W([{id:e,author:r.by,time:r.time,fullLenComments:r.descendants,comments:[],commentsId:r.kids,score:r.score,header:r.title,url:r.url,commentsIsLoad:!1}])),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addCommentToStoryThunk:V})(Object(O.g)((function(e){var t,n=Object(r.useState)(!1),a=Object(j.a)(n,2),o=a[0],c=a[1];return(t=e.story.find((function(t){return t.id===+e.match.params.storyId})))||e.storysIsLoad?t?r.createElement("div",null,r.createElement(pe,Object.assign({},t,{addCommentToStoryThunk:e.addCommentToStoryThunk,commentsDefOpen:!0}))):r.createElement(te,null):o?r.createElement(O.a,{to:"/error"}):(e.addStoryThuck(+e.match.params.storyId).then((function(){return c(!0)})),r.createElement(te,null))})));function ye(){return a.a.createElement("div",null,"ERROR")}var be=n(223);function _e(e){var t=Object(r.useRef)(!1),n=e.addTopStoryThunk||e.funcAdd;Object(r.useEffect)((function(){t.current=!1;var e=function(e){document.body.scrollHeight-150<=document.documentElement.scrollTop+document.documentElement.clientHeight&&n&&(t.current||(t.current=!0,n()))};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[e.storys.length]);var o=e.storys.map((function(t){return a.a.createElement(pe,Object.assign({key:t.id,addCommentToStoryThunk:e.addCommentToStoryThunk},t))}));return a.a.createElement("div",{className:re.a.StotyList},o,e.storysIsLoad&&a.a.createElement(be.a,null),e.storysIsLoad||e.lenIsMax?"":a.a.createElement("div",{className:re.a.Story__blockCenter},a.a.createElement("div",{style:{marginTop:10,paddingBottom:15}},a.a.createElement(oe.a,{onClick:function(){return n()},variant:"contained",color:"secondary"}," add stories "))))}var he=Object(s.b)((function(e){return{storys:e.storys.storys,storysIsLoad:e.storys.storysIsLoad,lenIsMax:e.storys.lenIsMax}}),{addCommentToStoryThunk:V,addTopStoryThunk:function(){return function(){var e=Object(l.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(l.a)(m.a.mark((function e(r,a){var o,c,s,u,i,l,d,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/topstories.json").then((function(e){return e.data}));case 2:if(o=e.sent,c=[],s=[],!(u=n()).storys.lenIsMax){e.next=9;break}return r(),e.abrupt("return");case 9:for(i=u.storys.lenStory,(l=i+25)>=500&&t({type:C}),t({type:T}),d=function(e){c.push(D(o[e]).then((function(t){t&&s.push({id:o[e],author:t.by,time:t.time,fullLenComments:t.descendants,comments:[],commentsId:t.kids,score:t.score,header:t.title,url:t.url,commentsIsLoad:!1})})))},p=i;p<l;p++)d(p);Promise.all(c).then((function(e){t(W(s)),t({type:S}),t({type:L,lenght:l}),r()}));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){return Object(r.useEffect)((function(){e.storys.length<50&&e.addTopStoryThunk()}),[e.story]),a.a.createElement(_e,{addCommentToStoryThunk:e.addCommentToStoryThunk,storys:e.storys,storysIsLoad:e.storysIsLoad,addTopStoryThunk:e.addTopStoryThunk,lenIsMax:e.lenIsMax})})),Ie="ADD_USER",ve="ADD_USER_STORY",Oe="ADD_USER_COMMETNS",je="UP_COUT",Ee="START_LOAD",ge="STOP_LOAD",ke="MAX_ITEMS",Te="ADD_USER_COMMETNS_OPEN";function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){return{type:ke,id:e}},Le=function(e){return{type:Ee,id:e}},Ce=function(e){return{type:ge,id:e}},Pe=function(e,t){return{type:je,cout:t,id:e}},Me=function(e,t){return{type:ve,id:e,storys:t}},De=function(e,t){return{type:Oe,id:e,info:t}};function Ne(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(l.a)(m.a.mark((function e(t,n){var r,a,o,c,s,u,i,l,d,p,f=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>2&&void 0!==f[2]?f[2]:25,a=f.length>3?f[3]:void 0,o=f.length>4?f[4]:void 0,a(Le(n)),c=o().users.users[n],s=c.cunt,u=[],i=[],l=!1;case 9:if(!(("story"===t?u.length:i.length)<r||l)){e.next=34;break}if(!c.submitted){e.next=30;break}if(!(s+(r-1)>c.submitted.length)){e.next=22;break}return c.submitted.length-1,l=!0,e.next=17,R(c.submitted.slice(s,s+(r-1)));case 17:return d=e.sent,u=[].concat(Object(E.a)(u),Object(E.a)(d.story)),i=[].concat(Object(E.a)(i),Object(E.a)(d.comments)),a(xe(n)),e.abrupt("break",34);case 22:return e.next=24,R(c.submitted.slice(s,s+(r-1)));case 24:p=e.sent,u=[].concat(Object(E.a)(u),Object(E.a)(p.story)),i=[].concat(Object(E.a)(i),Object(E.a)(p.comments)),s+=r,e.next=32;break;case 30:return l=!0,e.abrupt("return",[]);case 32:e.next=9;break;case 34:return a(Me(n,u)),a(De(n,i)),a(Pe(n,s)),a(Ce(n)),e.abrupt("return",u);case 39:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return function(){var n=Object(l.a)(m.a.mark((function n(r,a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Ne("story",e,t,r,a));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Ue=function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:r=t.sent,n({type:Ie,info:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Re={users:{}};var ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:for(var n=we({},e.users[t.id]),r={},a=0;a<t.info.length;a++)r=we({},r,{},t.info[a]),console.log(t.info,a,t.info[a],r,"1234");var o=n.comments.map((function(e){return e.id===t.idComments?we({},e,{comments:r}):e}));return n.comments=o,we({},e,{users:we({},e.users,Object(u.a)({},t.id,n))});case Oe:var c=e.users[t.id];return c?we({},e,{users:we({},e.users,Object(u.a)({},t.id,we({},c,{comments:[].concat(Object(E.a)(c.comments),Object(E.a)(t.info))})))}):e;case ke:return we({},e,{users:we({},e.users,Object(u.a)({},t.id,we({},e.users[t.id],{maxItems:!0})))});case ge:return we({},e,{users:we({},e.users,Object(u.a)({},t.id,we({},e.users[t.id],{isLoad:!1})))});case Ee:return we({},e,{users:we({},e.users,Object(u.a)({},t.id,we({},e.users[t.id],{isLoad:!0})))});case je:return we({},e,{users:we({},e.users,Object(u.a)({},t.id,we({},e.users[t.id],{cunt:e.users[t.id].cunt+t.cout})))});case Ie:return we({},e,{users:we({},e.users,Object(u.a)({},t.info.id,{id:t.info.id,created:t.info.created,karma:t.info.karma,about:t.info.about,submitted:t.info.submitted,story:[],comments:[],favorites:[],cunt:0,isLoad:!1,maxItems:!1}))});case ve:var s=[],i=e.users[t.id];return s=i.story?[].concat(Object(E.a)(i.story),Object(E.a)(t.storys)):Object(E.a)(t.storys),we({},e,{users:we({},e.users,Object(u.a)({},t.id,we({},e.users[t.id],{story:s})))});default:return e}},Ge=n(14),Ze=n.n(Ge);function Ye(e){var t=G(e.user.created);return a.a.createElement("div",{className:Ze.a.User},a.a.createElement("div",{className:Ze.a.line},a.a.createElement("div",{className:Ze.a.blockOne},"Name : "),e.user.id),a.a.createElement("div",{className:Ze.a.line},a.a.createElement("div",{className:Ze.a.blockOne},"Created : "),t),a.a.createElement("div",{className:Ze.a.line},a.a.createElement("div",{className:Ze.a.blockOne},"karma : "),e.user.karma),a.a.createElement("div",{className:Ze.a.line},a.a.createElement("div",{className:Ze.a.blockOne},"about : "),a.a.createElement("div",{className:Ze.a.aboutWrap},a.a.createElement("div",{className:Ze.a.about,dangerouslySetInnerHTML:{__html:e.user&&e.user.about?e.user.about:""}}),a.a.createElement("div",{className:Ze.a.Links},a.a.createElement(h.b,{to:"".concat(e.path,"/submission")},"submission",a.a.createElement("span",{style:{color:"grey",fontSize:12}},"*|will take a long time to load")),a.a.createElement(h.b,{to:"".concat(e.path,"/comments")},"comments",a.a.createElement("span",{style:{color:"grey",fontSize:12}},"*|will take a long time to load"))))))}var He=Object(s.b)((function(e){return{users:e.users.users}}),{addUserThunk:Ue,addUserStoryThunk:Be})(Object(O.g)((function(e){var t,n=Object(r.useState)(!1),o=Object(j.a)(n,2),c=o[0],s=o[1];return e.users[e.match.params.userId]?t=e.users[e.match.params.userId]:c||(e.addUserThunk(e.match.params.userId),s(!0)),t?a.a.createElement(Ye,{user:t,path:e.match.url}):a.a.createElement("div",null,a.a.createElement(te,null))}))),Qe=Object(s.b)((function(e){return{users:e.users.users}}),{addUserThunk:Ue,addUserStoryThunk:Be})(Object(O.g)((function(e){Object(r.useEffect)((function(){e.addUserThunk(e.match.params.userId).then((function(t){e.addUserStoryThunk(e.match.params.userId)}))}),[]);var t=e.users[e.match.params.userId];if(t){if(t.story&&t.story.length>=1)return a.a.createElement(_e,{storysIsLoad:t.isLoad,storys:t.story,funcAdd:function(){e.addUserStoryThunk(e.match.params.userId)},lenIsMax:t.maxItems});if(!t.story&&t.maxItems)return a.a.createElement("div",null,"no story")}return a.a.createElement("div",null,a.a.createElement(te,null))})));var Je=a.a.memo(Object(s.b)((function(e){return{users:e.users.users}}),{addUserThunk:Ue,addUserCommentsThunk:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return function(){var n=Object(l.a)(m.a.mark((function n(r,a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("\u0437\u0430\u043f\u0443\u0441k",e),n.abrupt("return",Ne("comments",e,t,r,a));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},addUserComentsOpenThunk:function(e,t){return function(n,r){var a=[],o=[],c=r().users.users[e].comments.find((function(e){return e.id===t}));c&&c.commentsIdArr&&c.commentsIdArr.forEach((function(e){o.push(Y([e]).then((function(e){a.push(e)})))})),Promise.all(o).then((function(r){n({type:Te,info:a,id:e,idComments:t})}))}}})(Object(O.g)(a.a.memo((function(e){Object(r.useEffect)((function(){e.addUserThunk(e.match.params.userId).then((function(t){console.log(e.match.params.userId,"\u044f \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0430\u0441\u044c"),e.addUserCommentsThunk(e.match.params.userId)}))}),[e.match.params.userId]);var t=e.users[e.match.params.userId];if(t&&t.comments.length>0){var n=t.comments.map((function(n){return a.a.createElement(de,{key:n.id,id:n.id,name:n.name,text:n.text,commetnsArr:n.commentsIdArr,funcBtn:function(){console.log(t.id,"currentUser"),e.addUserComentsOpenThunk(t.id,n.id)},comments:n.comments})}));return a.a.createElement("div",{className:Ze.a.content},n)}return t&&t.maxItems?a.a.createElement("div",null,"no comments"):a.a.createElement("div",null,a.a.createElement(te,null))}))))),Ke="ADD_JOBS",We="UP_INDEX",Xe="SET_INDEX_ARR",Ve="START_LOAD",Fe="STOP_LOAD",qe="MAX_LOAD_LIST";function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt=function(){return{type:Fe}},nt=function(e){return{type:We,upIndexNum:e}},rt=function(e){return{type:Ke,jobs:e}},at={jobs:[],loadJobsNum:0,jobsIndexArr:[],isLoad:!1,isMax:!1};var ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return et({},e,{isMax:!0});case Fe:return et({},e,{isLoad:!1});case Ve:return et({},e,{isLoad:!0});case Xe:return et({},e,{jobsIndexArr:t.arr});case We:return et({},e,{loadJobsNum:e.loadJobsNum+t.upIndexNum});case Ke:return et({},e,{jobs:[].concat(Object(E.a)(e.jobs),Object(E.a)(t.jobs))});default:return e}},ct=n(219),st=Object(ct.a)({linkToJob:{color:"blue",fontSize:15,transition:"0.2s","&:hover":{color:"rgb(0, 159, 233)"}},egoTime:{fontSize:13,color:"#828282"}});function ut(e){var t=st();return a.a.createElement("div",{style:{paddingLeft:"15px",paddingRight:"15px"}},a.a.createElement(ae.a,{className:t.linkToJob,href:e.url},e.title),a.a.createElement("div",{className:t.egoTime},Z(e.time)))}var it=n(87),mt=n.n(it),lt=Object(ct.a)({btn:{margin:"0 auto",marginTop:"10px",display:"block",fontWeight:900}});function dt(e){var t=lt(),n=Object(r.useRef)(!1);Object(r.useEffect)((function(){n.current=!1;var t=function(t){document.body.scrollHeight-150<=document.documentElement.scrollTop+document.documentElement.clientHeight&&(n.current||(n.current=!0,e.addFunBtn()))};return window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}}),[e.jobs.length]);var o=e.jobs.map((function(e){return a.a.createElement(ut,Object.assign({key:e.id},e))}));return a.a.createElement("div",{className:mt.a.List},o,e.isLoad||e.isMax?e.isMax?"":a.a.createElement(le,null):a.a.createElement(oe.a,{onClick:e.addFunBtn,className:t.btn,variant:"contained",color:"secondary"},"add jobs"))}var pt=Object(s.b)((function(e){return{jobs:e.jobs.jobs,isLoad:e.jobs.isLoad,isMax:e.jobs.isMax}}),{addJobsThunk:function(){return function(){var e=Object(l.a)(m.a.mark((function e(t,n){var r,a,o,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),(a=r.jobs.jobsIndexArr).length){e.next=7;break}return e.next=5,P.get("/jobstories.json").then((function(e){return e.data}));case 5:a=e.sent,t({type:Xe,arr:a});case 7:if(!((o=r.jobs.loadJobsNum)>=a.length)){e.next=10;break}return e.abrupt("return");case 10:if(t({type:Ve}),!(o+25>a.length&&o<a.length)){e.next=20;break}return e.next=14,A(a.slice(o,a.length));case 14:return c=e.sent,t(rt(c)),t(nt(c.length)),t({type:qe}),t(tt()),e.abrupt("return");case 20:return e.next=22,A(a.slice(o,o+25));case 22:s=e.sent,t(rt(s)),t(nt(s.length)),t(tt());case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){return Object(r.useEffect)((function(){e.jobs.length||e.addJobsThunk()}),[e.jobs.length]),e.jobs.length?a.a.createElement("div",null,a.a.createElement(dt,{jobs:e.jobs,addFunBtn:e.addJobsThunk,isLoad:e.isLoad,isMax:e.isMax})):a.a.createElement(be.a,{value:100})})),ft="SET_ITEM",yt="START_LOAD",bt="STOP_LOAD",_t="START_TIMER",ht="STOP_TIMER",It="SET_MAX_ITEM",vt="REQUERS_IN_ITEM_START",Ot="REQUERS_IN_ITEM_STOP",jt="SET_COMMENT_IN_ITEM",Et="RESET_ITEM",gt="STOP_CHECK_MAX_ITEM",kt="ADD_COMMENT_TO_STORY";function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=function(){return{type:vt}},xt=function(){return{type:Ot}},Lt=function(e){return{type:ft,item:e}},Ct=function(){return function(){var e=Object(l.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:n=e.sent,t({type:It,index:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Pt={isLoad:!1,isLoadInItem:!1};var Mt=n(32),Dt=n.n(Mt),Nt=n(50),At=n.n(Nt);function Bt(e){var t=Object(r.useState)(e.number),n=Object(j.a)(t,2),o=n[0],c=n[1];return Object(r.useEffect)((function(){c((function(t){return e.number,e.number}))}),[e.number]),a.a.createElement("div",{className:At.a.window},a.a.createElement("div",{className:At.a.col+" "+At.a["top".concat(o)]},a.a.createElement("span",null,"0"),a.a.createElement("span",null,"1"),a.a.createElement("span",null,"2"),a.a.createElement("span",null,"3"),a.a.createElement("span",null,"4"),a.a.createElement("span",null,"5"),a.a.createElement("span",null,"6"),a.a.createElement("span",null,"7"),a.a.createElement("span",null,"8"),a.a.createElement("span",null,"9")))}function Ut(e){var t=(""+e.number).match(/\w/g),n=[];if(t&&t.length)for(var r=0;r<t.length;r++)n.push(a.a.createElement(Bt,{number:t[r],key:r}));return a.a.createElement("div",{style:{display:"flex"}},n)}var Rt=n(198),zt=n(218),Gt=n(221);function Zt(e){var t=Object(r.useState)(!1),n=Object(j.a)(t,2),o=n[0],c=n[1],s=Object(r.useState)(""),u=Object(j.a)(s,2),i=u[0],m=u[1],l=Object(r.useState)(!1),d=Object(j.a)(l,2),p=d[0],f=d[1],y=a.a.useRef();return a.a.createElement("div",null,a.a.createElement("input",{className:Dt.a.input,ref:y,type:"text",value:i,onChange:function(t){o?(m(t.target.value),t.target.value.length>0&&e.setItemThunkStart(t.target.value).then((function(t){(t.id===y.current.value||t.errorCode)&&e.setItemThunkEnd(t)}))):(+t.target.value<=e.maxItem?(m(t.target.value),p&&f(!1)):null===t.target.value.match(/\D/)&&f(!0),+t.target.value&&+t.target.value<=e.maxItem&&e.setItemThunkStart(+t.target.value).then((function(t){t.id===+y.current.value&&e.setItemThunkEnd(t)})),+y.current.value||null!==t.target.value.match(/\D/)||e.resetItem())}}),p&&a.a.createElement("div",{style:{color:"red"}},"max items is ",e.maxItem),a.a.createElement("div",null,a.a.createElement("div",{style:{textAlign:"center"}},"search to"),a.a.createElement(Rt.a,{component:"div"},a.a.createElement(zt.a,{component:"label",container:!0,alignItems:"center",justify:"center",spacing:1},a.a.createElement(zt.a,{item:!0}," id"),a.a.createElement(zt.a,{item:!0},a.a.createElement(Gt.a,{checked:o,onChange:function(){c((function(e){return!e})),m(""),y.current.focus(),e.resetItem()},color:"primary"})),a.a.createElement(zt.a,{item:!0},"user")))))}function Yt(e){return a.a.createElement("div",{className:Ze.a.userSmol},a.a.createElement("div",null,"name: ",a.a.createElement(h.b,{className:Ze.a.link,to:"/user/".concat(e.id)},e.id)),a.a.createElement("div",null,"created: ",Z(e.created)),a.a.createElement("div",null,"karma: ",e.karma))}function Ht(e){var t,n=e.item;return n&&"story"===n.type&&(t=a.a.createElement(pe,{id:n.id,url:n.url,fullLenComments:n.fullLenComments,header:n.header,author:n.author,score:n.score,time:n.time,comments:n.comments,commentsIsLoad:e.isLoadInItem,addCommentToStoryThunk:e.addCommentToStoryItemThunk,commentsDefOpen:!1,commentsId:[],isLink:!0})),n&&n.type&&"comment"===n.type&&(console.log(),t=a.a.createElement(de,{id:n.id,name:n.name,text:n.text,commetnsArr:n.kids,comments:n.comments,isLoad:e.isLoadInItem,funcBtn:function(){e.setCommentInItemThunk(n&&"number"===typeof n.id?n.id:-1)}})),n&&"user"===n.type&&(n.errorCode?t=a.a.createElement("div",null,n.ErrorMessage):n.id&&n.created&&n.karma&&(t=a.a.createElement(Yt,n))),a.a.createElement("div",null,t)}var Qt=Object(s.b)((function(e){return{item:e.getByItem.item,isLoad:e.getByItem.isLoad,maxItem:e.getByItem.maxItem,isLoadInItem:e.getByItem.isLoadInItem}}),{setItemThunkStart:function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:yt}),"string"!==typeof e){t.next=8;break}return t.next=4,N(e);case 4:(r=t.sent)?(r.type="user",r.errorCode=0):((r={}).errorCode=1,r.ErrorMessage="not search",r.type="user"),t.next=11;break;case 8:return t.next=10,D(e);case 10:r=t.sent;case 11:return"comment"===r.type&&(r.name=r.by,r.isLoad=!1,delete r.by),"story"===r.type&&(r={id:r.id,url:r.url,fullLenComments:-1===r.descendants?null:r.descendants,header:r.title,author:r.by,score:r.score,time:r.time,comments:[],commentsId:"object"===typeof r.kids?Object(E.a)(r.kids):[],type:"story"}),t.abrupt("return",r);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setItemThunkEnd:function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Lt(e)),n({type:bt});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},startCheckMaxItem:function(){return function(e){var t;e((t=setInterval((function(){e(Ct())}),1e4),{type:_t,timer:t}))}},CheckMaxItemThunk:Ct,stopTimer:function(){return{type:ht}},setCommentInItemThunk:function(e){return function(){var t=Object(l.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(wt()),t.next=3,Y([e]);case 3:r=(r=t.sent)[e].comments,n({type:jt,comment:r}),n(xt());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},resetItem:function(){return{type:Et}},addCommentToStoryItemThunk:function(){return function(e,t){var n=t().getByItem.item;if(n&&"story"===n.type){e(wt());var r=[];n.commentsId.forEach((function(t){r.push(Y([t]).then((function(t){e(function(e){return{type:kt,comments:e}}(t))})))})),Promise.all(r).then((function(){e(xt())}))}}}})((function(e){return Object(r.useEffect)((function(){return e.CheckMaxItemThunk(),e.startCheckMaxItem(),function(){e.stopTimer()}}),[]),e.maxItem?a.a.createElement("div",{className:Dt.a.centerBlock,style:{marginTop:10}},a.a.createElement("div",{className:Dt.a.center},a.a.createElement("div",{style:{textAlign:"center"}},"max id ",a.a.createElement(Ut,{number:e.maxItem})),a.a.createElement(Zt,{maxItem:e.maxItem,setItemThunkStart:e.setItemThunkStart,setItemThunkEnd:e.setItemThunkEnd,resetItem:e.resetItem}),a.a.createElement("div",{className:Dt.a.content},e.isLoad?a.a.createElement(le,null):a.a.createElement(Ht,{item:e.item,isLoadInItem:e.isLoadInItem,setCommentInItemThunk:e.setCommentInItemThunk,addCommentToStoryItemThunk:e.addCommentToStoryItemThunk})))):a.a.createElement("div",{style:{marginTop:15}},a.a.createElement(le,null))})),Jt="SET_INDEX_STORY",Kt="INITIALIZE",Wt="ADD_STORYS",Xt="START_LOAD",Vt="STOP_LOAD";function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $t=function(e){return{type:Wt,storys:e}},en=function(e){return{type:Jt,index:e}},tn={story:[],isLoad:!1,isInit:!1};var nn=Object(s.b)((function(e){return{init:e.newStorys.isInit,storys:e.newStorys.story,isLoad:e.newStorys.isLoad}}),{initNewStoryPageThunk:function(){return function(){var e=Object(l.a)(m.a.mark((function e(t){var n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return n=e.sent,e.next=5,B(n,12);case 5:r=e.sent,a=r.story,n=r.index,t($t(a)),t(en(n)),t({type:Kt});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addStoryThunk:function(){return function(){var e=Object(l.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n().newStorys.currentIndexStory)){e.next=9;break}return t({type:Xt}),e.next=5,B(r,8);case 5:a=e.sent,t($t(a.story)),t(en(a.index)),t({type:Vt});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){return Object(r.useEffect)((function(){e.init||e.initNewStoryPageThunk()}),[e.init]),e.init?a.a.createElement(_e,{storys:e.storys,storysIsLoad:e.isLoad,lenIsMax:!1,addTopStoryThunk:e.addStoryThunk}):a.a.createElement("div",{style:{paddingTop:20}},a.a.createElement(le,null))})),rn="ADD_ASK",an="INIT_ASK_REDUCER";function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn={questions:[],init:!1};var un=Object(s.b)((function(e){return{init:e.ask.init,ask:e.ask.questions}}),{initThunk:function(){return function(){var e=Object(l.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(function(){var e=Object(l.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(l.a)(m.a.mark((function e(n,r){var a,o,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/askstories.json").then((function(e){return e.data}));case 2:for(a=e.sent,o=[],c=[],s=0;s<a.length;s++)o.push(D(a[s]).then((function(e){c.push({id:e.id,author:e.by,time:e.time,fullLenComments:e.descendants,comments:[],commentsId:e.kids,score:e.score,header:e.title,url:e.url,commentsIsLoad:!1})})));Promise.all(o).then((function(){t({type:rn,ask:c}),n()}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:t({type:an});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Object(r.useEffect)((function(){e.init||e.initThunk()}),[e.init]),e.init?a.a.createElement("div",null,a.a.createElement(_e,{storys:e.ask,storysIsLoad:!1,lenIsMax:!0})):a.a.createElement("div",{style:{paddingTop:"20px"}},a.a.createElement(le,null))}));var mn=Object(s.b)((function(e){return{story:e.storys.storys,storysIsLoad:e.storys.storysIsLoad}}))((function(e){return a.a.createElement("div",null,a.a.createElement(O.d,null,a.a.createElement(O.b,{path:"/getById",render:function(){return a.a.createElement(Qt,null)}}),a.a.createElement(O.b,{path:"/getById/:id",render:function(){return a.a.createElement(Qt,null)}}),a.a.createElement(O.b,{path:"/newStorys",render:function(){return a.a.createElement(nn,null)}}),a.a.createElement(O.b,{path:"/story/:storyId",render:function(){return a.a.createElement(fe,null)}}),a.a.createElement(O.b,{path:"/story",render:function(){return a.a.createElement(he,null)}}),a.a.createElement(O.b,{path:"/user/:userId/submission",render:function(){return a.a.createElement(Qe,null)}}),a.a.createElement(O.b,{path:"/user/:userId/comments",render:function(){return a.a.createElement(Je,null)}}),a.a.createElement(O.b,{path:"/user/:userId/favorites",render:function(){return a.a.createElement("div",null,"favorites")}}),a.a.createElement(O.b,{path:"/user/:userId",render:function(){return a.a.createElement(He,null)}}),a.a.createElement(O.b,{path:"/ask",render:function(){return a.a.createElement(un,null)}}),a.a.createElement(O.b,{path:"/jobs",render:function(){return a.a.createElement(pt,null)}}),a.a.createElement(O.b,{path:"/error",render:function(){return a.a.createElement(ye,null)}}),a.a.createElement(O.b,{path:"/",render:function(){return a.a.createElement(O.a,{to:"/story"})}})))})),ln=n(30),dn=n(88),pn=n(220),fn=Object(ln.c)({form:pn.a,storys:q,newStorys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xt:return qt({},e,{isLoad:!0});case Vt:return qt({},e,{isLoad:!1});case Jt:return qt({},e,{currentIndexStory:t.index});case Wt:return qt({},e,{story:[].concat(Object(E.a)(e.story),Object(E.a)(t.storys))});case Kt:return qt({},e,{isInit:!0});default:return e}},init:y,users:ze,jobs:ot,getByItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt:var n=e.item;if(n&&"story"===n.type){n=St({},n);var r=[];for(var a in t.comments)r.push(t.comments[a]);n.comments=[].concat(Object(E.a)(n.comments),r)}return St({},e,{item:n});case gt:return St({},e);case jt:var o;return e.item&&"comment"===e.item.type&&((o=St({},e.item)).comments=t.comment),St({},e,{item:o});case Ot:return St({},e,{isLoadInItem:!1});case vt:return St({},e,{isLoadInItem:!0});case It:return e.maxItem===t.index?e:St({},e,{maxItem:t.index});case ht:return e.timer&&clearInterval(e.timer),St({},e,{timer:null});case _t:return St({},e,{timer:t.timer});case yt:return St({},e,{isLoad:!0});case bt:return St({},e,{isLoad:!1});case ft:return St({},e,{item:t.item});case Et:return St({},e,{item:void 0,isLoad:!1});default:return e}},ask:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rn:return cn({},e,{questions:[].concat(Object(E.a)(e.questions),Object(E.a)(t.ask))});case an:return cn({},e,{init:!0});default:return e}}}),yn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ln.d,bn=Object(ln.e)(fn,yn(Object(ln.a)(dn.a)));window.state=bn;var _n=bn,hn=Object(s.b)((function(e){return{isInit:e.init.init}}),{initThunk:function(){return function(){var e=Object(l.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:d});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Object(r.useEffect)((function(){e.isInit||e.initThunk()}),[e.isInit]),e.isInit?a.a.createElement("div",null,a.a.createElement(v,null),a.a.createElement(mn,null)):a.a.createElement("div",{style:{paddingTop:15}},a.a.createElement(le,null))})),In=function(){return a.a.createElement(h.a,null,a.a.createElement(s.a,{store:_n},a.a.createElement(hn,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(In,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},28:function(e,t,n){e.exports={Header:"header_Header__17LQY",Header__item:"header_Header__item__1ZjVz",Header__wrap:"header_Header__wrap__1Gpp_"}},32:function(e,t,n){e.exports={center:"GetByIdPage_center__1Lyq5",centerBlock:"GetByIdPage_centerBlock__3rpkt",input:"GetByIdPage_input__U_dJq"}},38:function(e,t,n){e.exports={Story__linkComments:"CommentsBlock_Story__linkComments__17op8",CommentBlock__content:"CommentsBlock_CommentBlock__content__36Lsu",CommentBlock:"CommentsBlock_CommentBlock__2veLe",CommentBlock__name:"CommentsBlock_CommentBlock__name__3-cQc",Story:"CommentsBlock_Story__2jwbx",Story__header:"CommentsBlock_Story__header__12S73",Story__blockCenter:"CommentsBlock_Story__blockCenter__23_bP",Story__link_header:"CommentsBlock_Story__link_header__2qslK",Story__linkToProfile:"CommentsBlock_Story__linkToProfile__3Swji"}},50:function(e,t,n){e.exports={col:"TableItem_col__17w9d",col2:"TableItem_col2__3xfQ3",top0:"TableItem_top0__py-lo",top1:"TableItem_top1__3pDee",top2:"TableItem_top2__1izgJ",top3:"TableItem_top3__23pnF",top4:"TableItem_top4__2RBg_",top5:"TableItem_top5__3nHlr",top6:"TableItem_top6__17W0Y",top7:"TableItem_top7__mUkI0",top8:"TableItem_top8__39V2R",top9:"TableItem_top9__UY3Rv",topUp0:"TableItem_topUp0__1B6rH",up0:"TableItem_up0__3LxJt",topUp1:"TableItem_topUp1__5RxuJ",up1:"TableItem_up1__2K3Uc",topUp2:"TableItem_topUp2__31Icf",up2:"TableItem_up2__1Gqyq",topUp3:"TableItem_topUp3__36eQh",up3:"TableItem_up3__PyVe4",topUp4:"TableItem_topUp4__3iw_P",up4:"TableItem_up4__1_8L2",topUp5:"TableItem_topUp5__39oEF",up5:"TableItem_up5__1Uckj",topUp6:"TableItem_topUp6__s5IMq",up6:"TableItem_up6__2jWI3",topUp7:"TableItem_topUp7__1E22k",up7:"TableItem_up7__15-x-",topUp8:"TableItem_topUp8__HdHYT",up8:"TableItem_up8__33GwG",topUp9:"TableItem_topUp9__3eN2-",up9:"TableItem_up9__3Iome",window:"TableItem_window__3mi7D"}},85:function(e,t,n){e.exports={Load:"load_Load__1esxs","load-anim":"load_load-anim__EKPbX"}},86:function(e,t,n){e.exports={Center:"minLoadCenter_Center__1iLq_"}},87:function(e,t,n){e.exports={List:"Jobs_List__31Qw5"}},93:function(e,t,n){e.exports=n(197)},98:function(e,t,n){},99:function(e,t,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.0a7ddfd5.chunk.js.map